<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Shared Persistent Heap Data Environment Manual: src/sascompoundheap.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>src/sascompoundheap.h File Reference</h1>
<p>Shared Address Space Compound Heap.  
<a href="#_details">More...</a></p>
<code>#include &quot;<a class="el" href="sassimpleheap_8h_source.html">sassimpleheap.h</a>&quot;</code><br/>

<p><a href="sascompoundheap_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a897417a49cbfa744ba641f194e862232"></a><!-- doxytag: member="sascompoundheap.h::SASCompoundHeap_t" ref="a897417a49cbfa744ba641f194e862232" args="" -->
typedef void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handle to SAS Compound Heap. The type is SAS_RUNTIME_COMPOUNDHEAP. <br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__C__ <a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sascompoundheap_8h.html#ad63109f9e55c24b07ec66cc8dc7f72fb">SASCompoundHeapInit</a> (void *heap_block, block_size_t heap_size, block_size_t page_size, int expanding)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize a shared storage as a compound heap.  <a href="#ad63109f9e55c24b07ec66cc8dc7f72fb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__C__ <a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sascompoundheap_8h.html#a691a471addf72b680a6e811e027cf4be">SASCompoundHeapExpandCreate</a> (<a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a> heap)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create an expanding SAS Compound Heap based on existing <em>heap</em>.  <a href="#a691a471addf72b680a6e811e027cf4be"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__C__ <a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sascompoundheap_8h.html#a1a9a8ad76602b7c32ca8e184cdfdaa49">SASCompoundHeapCreate</a> (block_size_t heap_size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new SAS Compound Heap with <em>heap_size</em> size.  <a href="#a1a9a8ad76602b7c32ca8e184cdfdaa49"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__C__ <a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sascompoundheap_8h.html#ab2f6d7db2770c07eb3e2cc6bd7312398">SASCompoundHeapCreatePageSize</a> (block_size_t heap_size, block_size_t page_size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new SAS Compound Heap with <em>heap_size</em> size and <em>page_size</em> page size.  <a href="#ab2f6d7db2770c07eb3e2cc6bd7312398"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__C__ <a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sascompoundheap_8h.html#ade2c1d28289ba1d8f4147e03ba9f5c5f">SASCompoundFixedHeapCreate</a> (block_size_t heap_size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new non expanding SAS Compound heap with <em>heap_size</em>.  <a href="#ade2c1d28289ba1d8f4147e03ba9f5c5f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__C__ void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sascompoundheap_8h.html#aaf0cccfc838a79525b523b7a9c3b4cd0">SASCompoundHeapDestroy</a> (<a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a> heap)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroy the SAS Compound Heap <em>heap</em>.  <a href="#aaf0cccfc838a79525b523b7a9c3b4cd0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__C__ void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sascompoundheap_8h.html#a86bfc3b27f26529a9d9cf1b91662db4b">SASCompoundHeapSetLoadFactor</a> (<a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a> *heap, int load)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the SAS Compound Heap <em>heap</em> load factor to <em>load</em>.  <a href="#a86bfc3b27f26529a9d9cf1b91662db4b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__C__ int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sascompoundheap_8h.html#a1234c735cd27f81617b61885cfdfabed">SASCompoundHeapGetLoadFactor</a> (<a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a> *heap)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the load factor from SAS Compound Heap <em>heap</em>.  <a href="#a1234c735cd27f81617b61885cfdfabed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__C__ block_size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sascompoundheap_8h.html#a67d0f73432040ef4a10442dd3eccefd1">SASCompoundHeapAllocSize</a> (<a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a> heap)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the page size from SAS Compound Heap <em>heap</em>.  <a href="#a67d0f73432040ef4a10442dd3eccefd1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__C__ block_size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sascompoundheap_8h.html#a1d5bf4f6f988408b78565b0c0367e681">SASCompoundHeapFreeSpace</a> (<a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a> heap)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the total available free space on SAS Compound heap <em>heap</em>.  <a href="#a1d5bf4f6f988408b78565b0c0367e681"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__C__ block_size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sascompoundheap_8h.html#a5cea3a0275a033a3358ac0c671670db7">SASCompoundHeapAllocSpace</a> (<a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a> heap)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the total block space allocated to this SAS Compound heap <em>heap</em>.  <a href="#a5cea3a0275a033a3358ac0c671670db7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__C__ block_size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sascompoundheap_8h.html#a933d903ef2de28b72377f9f722252c36">SASCompoundHeapWriteAll</a> (<a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a> heap, int asyncBool)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write down the SAS Compound Heap to persistent storage.  <a href="#a933d903ef2de28b72377f9f722252c36"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__C__ block_size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sascompoundheap_8h.html#a9f1a7e117ae978b134487eb5eb62b89e">SASCompoundHeapPurgeAll</a> (<a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a> heap, int asyncBool)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write down the SAS Compound Heap to persistent storage and inform the kernel that those pages can be removed from real memory.  <a href="#a9f1a7e117ae978b134487eb5eb62b89e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__C__ block_size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sascompoundheap_8h.html#acdbec9965c11fe0b5a5d63f505a0515e">SASCompoundHeapReleaseAll</a> (<a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a> heap)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Inform the kernel that the SAS Compound Heap memory segments can be removed from real memory.  <a href="#acdbec9965c11fe0b5a5d63f505a0515e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__C__ block_size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sascompoundheap_8h.html#a9dd8032d96a35b979ab9f1e6799748d0">SASCompoundHeapBringAll</a> (<a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a> heap)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Inform the kernel that the SAS Compound Heap memory segments pages will be needed soon.  <a href="#a9dd8032d96a35b979ab9f1e6799748d0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__C__ block_size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sascompoundheap_8h.html#a47817b9a19b594e990f9006e9de03957">SASCompoundHeapSeqAccessAll</a> (<a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a> heap)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Inform the kernel that the SAS Compound Heap memory segments pages will be needed soon and will be accessed in sequential order.  <a href="#a47817b9a19b594e990f9006e9de03957"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__C__ block_size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sascompoundheap_8h.html#a37f55fb5c533df5607673f9da2475349">SASCompoundHeapRandomAccessAll</a> (<a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a> heap)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Inform the kernel that the SAS Compound Heap memory segments pages will be needed soon and will be accessed in random order.  <a href="#a37f55fb5c533df5607673f9da2475349"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__C__ <a class="el" href="sassimpleheap_8h.html#a4ef92be97298e18ff5c85d8d107def75">SASSimpleHeap_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sascompoundheap_8h.html#a29ec9d674f80e6e0627c7bd44a5f658f">SASCompoundHeapAlloc</a> (<a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a> heap)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sub-Allocate a new SAS Simple Heap from a SAS Compound Heaps internal space.  <a href="#a29ec9d674f80e6e0627c7bd44a5f658f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__C__ void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sascompoundheap_8h.html#ab6cea83305829790fc5bc5f0be7ee3d6">SASCompoundHeapFree</a> (<a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a> heap, <a class="el" href="sassimpleheap_8h.html#a4ef92be97298e18ff5c85d8d107def75">SASSimpleHeap_t</a> free_block)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free the allocated SAS Simple Heap <em>block</em> in the SAS Compound Heap <em>heap</em>.  <a href="#ab6cea83305829790fc5bc5f0be7ee3d6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__C__ <a class="el" href="sassimpleheap_8h.html#a4ef92be97298e18ff5c85d8d107def75">SASSimpleHeap_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sascompoundheap_8h.html#a4e005ff8659a791e882c8f84fb82faf0">SASCompoundHeapNearAlloc</a> (void *nearObj)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocate a new SAS Simple Heap from SAS Compound Heap <em>nearObj</em>.  <a href="#a4e005ff8659a791e882c8f84fb82faf0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__C__ void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sascompoundheap_8h.html#a2736a9b9c50792e659c68763691ce553">SASCompoundHeapNearDealloc</a> (void *memAddr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free the allocated SAS Simple Heap based on a contained <em>memAddr</em>.  <a href="#a2736a9b9c50792e659c68763691ce553"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__C__ void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sascompoundheap_8h.html#a406bc1cdf51264a670f18a439b0f923f">SASCompoundHeapDestroyNoLock</a> (<a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a> heap)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroy the SAS Compound Heap <em>heap</em>.  <a href="#a406bc1cdf51264a670f18a439b0f923f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__C__ block_size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sascompoundheap_8h.html#a249a2ba5bfbc4c76904c1f682822b0d4">SASCompoundHeapFreeSpaceNoLock</a> (<a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a> heap)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the total available free space on SAS Compound heap <em>heap</em>.  <a href="#a249a2ba5bfbc4c76904c1f682822b0d4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__C__ <a class="el" href="sassimpleheap_8h.html#a4ef92be97298e18ff5c85d8d107def75">SASSimpleHeap_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sascompoundheap_8h.html#a9832ecab71a27378e1658231222ebc3a">SASCompoundHeapAllocNoLock</a> (<a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a> heap)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sub-Allocate a new SAS Simple Heap from a SAS Compound Heaps internal space.  <a href="#a9832ecab71a27378e1658231222ebc3a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__C__ <a class="el" href="sassimpleheap_8h.html#a4ef92be97298e18ff5c85d8d107def75">SASSimpleHeap_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sascompoundheap_8h.html#afa1b41fe5f507f7b0da8617e87612481">SASCompoundHeapNearAllocNoLock</a> (void *nearObj)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocate a new SAS Simple Heap from SAS Compound Heap <em>nearObj</em>.  <a href="#afa1b41fe5f507f7b0da8617e87612481"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__C__ void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sascompoundheap_8h.html#ad3ffaf5e549cea4d743330650cc62208">SASCompoundHeapNearDeallocNoLock</a> (void *memAddr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free the allocated SAS Simple Heap <em>memAddr</em> from associated SAS Compound Heap.  <a href="#ad3ffaf5e549cea4d743330650cc62208"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">__C__ void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sascompoundheap_8h.html#a982bb76b58705af0ac0119293addc6a7">SASCompoundHeapFreeNoLock</a> (<a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a> heap, <a class="el" href="sassimpleheap_8h.html#a4ef92be97298e18ff5c85d8d107def75">SASSimpleHeap_t</a> free_block)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free the allocated SAS Simple Heap <em>free_block</em> from SAS Compound Heap <em>heap</em>.  <a href="#a982bb76b58705af0ac0119293addc6a7"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Shared Address Space Compound Heap. </p>
<p>Allocate a SAS block to be used as a Heap of SASSimpleHeap_t heaps. This is a useful constuct for managing complex data structures while maintaining some storage (cache, page, block segment) affinity. The implementation is based on allocation of sub-heaps and allocating structures "near" an already allocated structure (New Near).</p>
<p>With a Compound Heap it is easy to start a new sub group by allocating a new SASSimpleHeap_t from the containing SASCompoundHeap_t. The application allocates the "top" or "root" structure directly from this Simple Heap. Subsequent allocations that need good locality to the "root" can use the <a class="el" href="sassimpleheap_8h.html#a4039a7ff58a6742c3635aecb66aee312" title="Allocate a block of alloc_size bytes from Simple Heap nearObj.">SASSimpleHeapNearAlloc()</a> API. This API allocates storage from the Simple Heap nearest that provided (near object) address.</p>
<p>The allocated Simple Heaps are always a power of two size allocated on a matching power of two boundary. The runtime can always find the containing Simple Heap based on the address of any contained structure. The runtime will allocate from the immediate containing Simple heap if free space is available there.</p>
<p>The runtime can also find the containing Compound Heap for any Simple Heap allocated from it. This allows a number of extended near allocation schemes. For example allocations can be from adjacent Simple Heaps within the same Compound Heap. Or allocations can be from a spill area associated with the containing Compound Heap header.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000009">Todo:</a></b></dt><dd>A future improvement would specify a Near Window that would restrict near allocations to be from a power of two sub-block of the containing Compound Heap. This could be used with large pages to restrict spill allocations to be from the same large page. For example if the Simple Heaps where allocated as 4K blocks but the physical Page size was 64K or 16M.</dd></dl>
<p>SAS Compound Heaps can be "expanding" or "fixed". Fixed Compound Heaps will fail that allocation once internal space is exhausted. Expanding Compound Heaps will respond to an allocation failure by allocating a block the size of the original compound heap, initialize it as a compound heap, and chain it the original. If expansion is successful the requested simple heap is allocated from the new space. Finally the storage associated with entire collection of related data structures allocated from a Compound Heap can be freed for reuse (destroyed) with one call.</p>
<p>A Compound Heap and the contained complex data structures can be arbitrarily large (up the the limits of the Region size or available disk space). Since SAS blocks are backed by memory mapped files, contained data structures, can be persistent and larger then available system memory.</p>
<p>Naturally pages of SAS storage (including Compound Heaps) will be paged into and out of system memory by the OS as need. The natural storage locality of a properly used Compound Heap will help to minimize paging. However is sometimes useful to advise the OS of the programs usage pattern. For example which storage (blocks/pages):</p>
<ul>
<li>will be needed in the near future,</li>
<li>should be written to disk for checking-pointing</li>
<li>should be written to disk and removed from real storage</li>
<li>Whether we expect sequential or random access to virtual storage and backing file.</li>
</ul>
<p>The SAS Compound Heap supports these operations (above) as described in <a class="el" href="sasmsync_8h.html" title="API to manage the resources of the Shared Address Space.">sasmsync.h</a>.</p>
<p>To create fixed compound heap use the function <a class="el" href="sascompoundheap_8h.html#ade2c1d28289ba1d8f4147e03ba9f5c5f" title="Create a new non expanding SAS Compound heap with heap_size.">SASCompoundFixedHeapCreate</a> or create the initial allocation of an expanding heap with <a class="el" href="sascompoundheap_8h.html#a1a9a8ad76602b7c32ca8e184cdfdaa49" title="Create a new SAS Compound Heap with heap_size size.">SASCompoundHeapCreate</a> or <a class="el" href="sascompoundheap_8h.html#ab2f6d7db2770c07eb3e2cc6bd7312398" title="Create a new SAS Compound Heap with heap_size size and page_size page size.">SASCompoundHeapCreatePageSize</a>. The Default allocation is 4K which can be overridden with <a class="el" href="sascompoundheap_8h.html#ab2f6d7db2770c07eb3e2cc6bd7312398" title="Create a new SAS Compound Heap with heap_size size and page_size page size.">SASCompoundHeapCreatePageSize</a>. The function <a class="el" href="sascompoundheap_8h.html#a691a471addf72b680a6e811e027cf4be" title="Create an expanding SAS Compound Heap based on existing heap.">SASCompoundHeapExpandCreate</a> is used to expand the an expanding Compound Heap. The function <a class="el" href="sascompoundheap_8h.html#aaf0cccfc838a79525b523b7a9c3b4cd0" title="Destroy the SAS Compound Heap heap.">SASCompoundHeapDestroy</a> destroys the entire Compound Heap including any expansion blocks .</p>
<p>A new Simple Heap can be sub-allocated from a Compound Heap using <a class="el" href="sascompoundheap_8h.html#a29ec9d674f80e6e0627c7bd44a5f658f" title="Sub-Allocate a new SAS Simple Heap from a SAS Compound Heaps internal space.">SASCompoundHeapAlloc</a> or <a class="el" href="sascompoundheap_8h.html#a4e005ff8659a791e882c8f84fb82faf0" title="Allocate a new SAS Simple Heap from SAS Compound Heap nearObj.">SASCompoundHeapNearAlloc</a> and freed by using the functions <a class="el" href="sascompoundheap_8h.html#ab6cea83305829790fc5bc5f0be7ee3d6" title="Free the allocated SAS Simple Heap block in the SAS Compound Heap heap.">SASCompoundHeapFree</a> and <a class="el" href="sascompoundheap_8h.html#a2736a9b9c50792e659c68763691ce553" title="Free the allocated SAS Simple Heap based on a contained memAddr.">SASCompoundHeapNearDealloc</a> respectively.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>the implementations of <a class="el" href="sasstringbtree_8h.html" title="Shared Address Space B-tree.">sasstringbtree.h</a> and <a class="el" href="sasindex_8h.html" title="Shared Address Space B-tree based on binary values including virtual addresses.">sasindex.h</a> are derived from the Compound Heap. The internal BTree nodes are derived from the <a class="el" href="sassimpleheap_8h.html" title="Shared Address Space Simple Heap.">sassimpleheap.h</a> implementation. This improves locality of reference as each node (key list and key data) is contained within a single page (unless the node fills with long keys and some data spills).</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000010">Todo:</a></b></dt><dd>A lock Free Compound Heap to compliment the SPH Lock Free Heap implementation of <a class="el" href="sphlockfreeheap_8h.html" title="Shared Persistent Heap, lock free heap allocator for shared memory multi-thread/multi-core...">sphlockfreeheap.h</a> would be a useful addition to the SAS/SPH runtime.</dd></dl>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ade2c1d28289ba1d8f4147e03ba9f5c5f"></a><!-- doxytag: member="sascompoundheap.h::SASCompoundFixedHeapCreate" ref="ade2c1d28289ba1d8f4147e03ba9f5c5f" args="(block_size_t heap_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__C__ <a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a> SASCompoundFixedHeapCreate </td>
          <td>(</td>
          <td class="paramtype">block_size_t&nbsp;</td>
          <td class="paramname"> <em>heap_size</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a new non expanding SAS Compound heap with <em>heap_size</em>. </p>
<p>Similiar to <a class="el" href="sascompoundheap_8h.html#a1a9a8ad76602b7c32ca8e184cdfdaa49" title="Create a new SAS Compound Heap with heap_size size.">SASCompoundHeapCreate</a> but without the option to expand when load factor allows it.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>heap_size</em>&nbsp;</td><td>Size of the Compound Heap to create. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A handle to created SASCompoundHeap_t or 0 if the creating fails. </dd></dl>

</div>
</div>
<a class="anchor" id="a29ec9d674f80e6e0627c7bd44a5f658f"></a><!-- doxytag: member="sascompoundheap.h::SASCompoundHeapAlloc" ref="a29ec9d674f80e6e0627c7bd44a5f658f" args="(SASCompoundHeap_t heap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__C__ <a class="el" href="sassimpleheap_8h.html#a4ef92be97298e18ff5c85d8d107def75">SASSimpleHeap_t</a> SASCompoundHeapAlloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a>&nbsp;</td>
          <td class="paramname"> <em>heap</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sub-Allocate a new SAS Simple Heap from a SAS Compound Heaps internal space. </p>
<p>The sas_type_t of <em>heap</em> must be SAS_RUNTIME_COMPOUNDHEAP. The allocated block is initialized as a SAS Simple Heap. The function holds a write lock on the Compound Heap during this operation.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>heap</em>&nbsp;</td><td>Handle to the SASCompoundHeap_t. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A newly created SASSimpleHeap_t or 0 if an error occurs. </dd></dl>

</div>
</div>
<a class="anchor" id="a9832ecab71a27378e1658231222ebc3a"></a><!-- doxytag: member="sascompoundheap.h::SASCompoundHeapAllocNoLock" ref="a9832ecab71a27378e1658231222ebc3a" args="(SASCompoundHeap_t heap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__C__ <a class="el" href="sassimpleheap_8h.html#a4ef92be97298e18ff5c85d8d107def75">SASSimpleHeap_t</a> SASCompoundHeapAllocNoLock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a>&nbsp;</td>
          <td class="paramname"> <em>heap</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sub-Allocate a new SAS Simple Heap from a SAS Compound Heaps internal space. </p>
<p>Similar to <a class="el" href="sascompoundheap_8h.html#a29ec9d674f80e6e0627c7bd44a5f658f" title="Sub-Allocate a new SAS Simple Heap from a SAS Compound Heaps internal space.">SASCompoundHeapAlloc</a> but do not hold the write lock on the Compound Heap.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>heap</em>&nbsp;</td><td>Handle to the SASCompoundHeap_t. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A newly created SASSimpleHeap_t or 0 if an error occurs. </dd></dl>

</div>
</div>
<a class="anchor" id="a67d0f73432040ef4a10442dd3eccefd1"></a><!-- doxytag: member="sascompoundheap.h::SASCompoundHeapAllocSize" ref="a67d0f73432040ef4a10442dd3eccefd1" args="(SASCompoundHeap_t heap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__C__ block_size_t SASCompoundHeapAllocSize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a>&nbsp;</td>
          <td class="paramname"> <em>heap</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the page size from SAS Compound Heap <em>heap</em>. </p>
<p>The sas_type_t must be SAS_RUNTIME_COMPOUNDHEAP.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>heap</em>&nbsp;</td><td>Handle to the SASCompoundHeap_t. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The <em>page</em> size value in bytes. Used to allocate Simple Heaps. </dd></dl>

</div>
</div>
<a class="anchor" id="a5cea3a0275a033a3358ac0c671670db7"></a><!-- doxytag: member="sascompoundheap.h::SASCompoundHeapAllocSpace" ref="a5cea3a0275a033a3358ac0c671670db7" args="(SASCompoundHeap_t heap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__C__ block_size_t SASCompoundHeapAllocSpace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a>&nbsp;</td>
          <td class="paramname"> <em>heap</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the total block space allocated to this SAS Compound heap <em>heap</em>. </p>
<p>The sas_type_t must be SAS_RUNTIME_COMPOUNDHEAP. The function holds a read lock while calculating the total block space, including expansion blocks.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>heap</em>&nbsp;</td><td>Handle to the SASCompoundHeap_t. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The total block space in bytes. </dd></dl>

</div>
</div>
<a class="anchor" id="a9dd8032d96a35b979ab9f1e6799748d0"></a><!-- doxytag: member="sascompoundheap.h::SASCompoundHeapBringAll" ref="a9dd8032d96a35b979ab9f1e6799748d0" args="(SASCompoundHeap_t heap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__C__ block_size_t SASCompoundHeapBringAll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a>&nbsp;</td>
          <td class="paramname"> <em>heap</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Inform the kernel that the SAS Compound Heap memory segments pages will be needed soon. </p>
<p>The function basically calls sasMsyncBring from <a class="el" href="sasmsync_8h.html" title="API to manage the resources of the Shared Address Space.">sasmsync.h</a> on each internal SAS Simple Heap. The sas_type_t must be SAS_RUNTIME_COMPOUNDHEAP. The function hold a read lock over the heap's memory segments.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>heap</em>&nbsp;</td><td>Handle the the SASCompoundHeap_t. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1a9a8ad76602b7c32ca8e184cdfdaa49"></a><!-- doxytag: member="sascompoundheap.h::SASCompoundHeapCreate" ref="a1a9a8ad76602b7c32ca8e184cdfdaa49" args="(block_size_t heap_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__C__ <a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a> SASCompoundHeapCreate </td>
          <td>(</td>
          <td class="paramtype">block_size_t&nbsp;</td>
          <td class="paramname"> <em>heap_size</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a new SAS Compound Heap with <em>heap_size</em> size. </p>
<p>Create and initialize a Compound Heap. The storate block must be power of two in size and SAS type returned is SAS_RUNTIME_COMPOUNDHEAP. The internal page size used is the default one defined in sasalloc.h (4096).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>heap_size</em>&nbsp;</td><td>Size of the Compound Heap to create. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A handle to created SASCompoundHeap_t or 0 if creation fails. </dd></dl>

</div>
</div>
<a class="anchor" id="ab2f6d7db2770c07eb3e2cc6bd7312398"></a><!-- doxytag: member="sascompoundheap.h::SASCompoundHeapCreatePageSize" ref="ab2f6d7db2770c07eb3e2cc6bd7312398" args="(block_size_t heap_size, block_size_t page_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__C__ <a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a> SASCompoundHeapCreatePageSize </td>
          <td>(</td>
          <td class="paramtype">block_size_t&nbsp;</td>
          <td class="paramname"> <em>heap_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">block_size_t&nbsp;</td>
          <td class="paramname"> <em>page_size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a new SAS Compound Heap with <em>heap_size</em> size and <em>page_size</em> page size. </p>
<p>Similiar to <a class="el" href="sascompoundheap_8h.html#a1a9a8ad76602b7c32ca8e184cdfdaa49" title="Create a new SAS Compound Heap with heap_size size.">SASCompoundHeapCreate</a> but with additional option to set the internal page size.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>heap_size</em>&nbsp;</td><td>Size of the Compound Heap to create. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>page_size</em>&nbsp;</td><td>Size of the internal page. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A handle to created SASCompoundHeap_t or 0 if creation fails. </dd></dl>

</div>
</div>
<a class="anchor" id="aaf0cccfc838a79525b523b7a9c3b4cd0"></a><!-- doxytag: member="sascompoundheap.h::SASCompoundHeapDestroy" ref="aaf0cccfc838a79525b523b7a9c3b4cd0" args="(SASCompoundHeap_t heap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__C__ void SASCompoundHeapDestroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a>&nbsp;</td>
          <td class="paramname"> <em>heap</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destroy the SAS Compound Heap <em>heap</em>. </p>
<p>The sas_type_t must be SAS_RUNTIME_COMPOUNDHEAP. Destroy holds an exclusive write lock while clearing the control blocks and freeing the SAS block.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>heap</em>&nbsp;</td><td>Handle of the SASCompoundHeap_t to be destroyed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a406bc1cdf51264a670f18a439b0f923f"></a><!-- doxytag: member="sascompoundheap.h::SASCompoundHeapDestroyNoLock" ref="a406bc1cdf51264a670f18a439b0f923f" args="(SASCompoundHeap_t heap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__C__ void SASCompoundHeapDestroyNoLock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a>&nbsp;</td>
          <td class="paramname"> <em>heap</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destroy the SAS Compound Heap <em>heap</em>. </p>
<p>Similiar to <a class="el" href="sascompoundheap_8h.html#aaf0cccfc838a79525b523b7a9c3b4cd0" title="Destroy the SAS Compound Heap heap.">SASCompoundHeapDestroy</a> but do not hold the write lock on the memory address.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>heap</em>&nbsp;</td><td>Handle of the SASCompoundHeap_t. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a691a471addf72b680a6e811e027cf4be"></a><!-- doxytag: member="sascompoundheap.h::SASCompoundHeapExpandCreate" ref="a691a471addf72b680a6e811e027cf4be" args="(SASCompoundHeap_t heap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__C__ <a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a> SASCompoundHeapExpandCreate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a>&nbsp;</td>
          <td class="paramname"> <em>heap</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create an expanding SAS Compound Heap based on existing <em>heap</em>. </p>
<p>Create an expanding SAS Compound Heap and add the <em>heap</em> on its internal list. Intended for internal runtime use but can be used to force expansion of the specified Compound Heap.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>heap</em>&nbsp;</td><td>The SAS Compound Heap to add on expanding heap. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A new SASCompoundHeap handle or 0 if the new heap creation fails. </dd></dl>

</div>
</div>
<a class="anchor" id="ab6cea83305829790fc5bc5f0be7ee3d6"></a><!-- doxytag: member="sascompoundheap.h::SASCompoundHeapFree" ref="ab6cea83305829790fc5bc5f0be7ee3d6" args="(SASCompoundHeap_t heap, SASSimpleHeap_t free_block)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__C__ void SASCompoundHeapFree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a>&nbsp;</td>
          <td class="paramname"> <em>heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sassimpleheap_8h.html#a4ef92be97298e18ff5c85d8d107def75">SASSimpleHeap_t</a>&nbsp;</td>
          <td class="paramname"> <em>free_block</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Free the allocated SAS Simple Heap <em>block</em> in the SAS Compound Heap <em>heap</em>. </p>
<p>The sas_type_t of <em>heap</em> must be SAS_RUNTIME_COMPOUNDHEAP and the type of <em>free_block</em> must be SAS_RUNTIME_SIMPLEHEAP.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>heap</em>&nbsp;</td><td>Handle to the SASCompoundHeap_t. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>free_block</em>&nbsp;</td><td>The created SASSimpleHeap_t created from <em>heap</em>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a982bb76b58705af0ac0119293addc6a7"></a><!-- doxytag: member="sascompoundheap.h::SASCompoundHeapFreeNoLock" ref="a982bb76b58705af0ac0119293addc6a7" args="(SASCompoundHeap_t heap, SASSimpleHeap_t free_block)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__C__ void SASCompoundHeapFreeNoLock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a>&nbsp;</td>
          <td class="paramname"> <em>heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sassimpleheap_8h.html#a4ef92be97298e18ff5c85d8d107def75">SASSimpleHeap_t</a>&nbsp;</td>
          <td class="paramname"> <em>free_block</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Free the allocated SAS Simple Heap <em>free_block</em> from SAS Compound Heap <em>heap</em>. </p>
<p>Similar to <a class="el" href="sascompoundheap_8h.html#ab6cea83305829790fc5bc5f0be7ee3d6" title="Free the allocated SAS Simple Heap block in the SAS Compound Heap heap.">SASCompoundHeapFree</a> but do not hold the write lock.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>heap</em>&nbsp;</td><td>Handle to the SASCompoundHeap_t. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>free_block</em>&nbsp;</td><td>The created SASSimpleHeap_t created from <em>heap</em>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1d5bf4f6f988408b78565b0c0367e681"></a><!-- doxytag: member="sascompoundheap.h::SASCompoundHeapFreeSpace" ref="a1d5bf4f6f988408b78565b0c0367e681" args="(SASCompoundHeap_t heap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__C__ block_size_t SASCompoundHeapFreeSpace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a>&nbsp;</td>
          <td class="paramname"> <em>heap</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the total available free space on SAS Compound heap <em>heap</em>. </p>
<p>The sas_type_t must be SAS_RUNTIME_COMPOUNDHEAP. The function holds a write lock while calculating the total free space from heap.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>heap</em>&nbsp;</td><td>Handle to the SASCompoundHeap_t. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The total available free space in bytes. </dd></dl>

</div>
</div>
<a class="anchor" id="a249a2ba5bfbc4c76904c1f682822b0d4"></a><!-- doxytag: member="sascompoundheap.h::SASCompoundHeapFreeSpaceNoLock" ref="a249a2ba5bfbc4c76904c1f682822b0d4" args="(SASCompoundHeap_t heap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__C__ block_size_t SASCompoundHeapFreeSpaceNoLock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a>&nbsp;</td>
          <td class="paramname"> <em>heap</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the total available free space on SAS Compound heap <em>heap</em>. </p>
<p>Similar to <a class="el" href="sascompoundheap_8h.html#a1d5bf4f6f988408b78565b0c0367e681" title="Return the total available free space on SAS Compound heap heap.">SASCompoundHeapFreeSpace</a> but do not hold the write lock on the Compound Heap.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>heap</em>&nbsp;</td><td>Handle to the SASCompoundHeap_t. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The total available free space in bytes. </dd></dl>

</div>
</div>
<a class="anchor" id="a1234c735cd27f81617b61885cfdfabed"></a><!-- doxytag: member="sascompoundheap.h::SASCompoundHeapGetLoadFactor" ref="a1234c735cd27f81617b61885cfdfabed" args="(SASCompoundHeap_t *heap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__C__ int SASCompoundHeapGetLoadFactor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a> *&nbsp;</td>
          <td class="paramname"> <em>heap</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the load factor from SAS Compound Heap <em>heap</em>. </p>
<p>The sas_type_t must be SAS_RUNTIME_COMPOUNDHEAP.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>heap</em>&nbsp;</td><td>Handle to the SASCompoundHeap_t. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The load factor from heap or -1 if and error occurs. </dd></dl>

</div>
</div>
<a class="anchor" id="ad63109f9e55c24b07ec66cc8dc7f72fb"></a><!-- doxytag: member="sascompoundheap.h::SASCompoundHeapInit" ref="ad63109f9e55c24b07ec66cc8dc7f72fb" args="(void *heap_block, block_size_t heap_size, block_size_t page_size, int expanding)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__C__ <a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a> SASCompoundHeapInit </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>heap_block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">block_size_t&nbsp;</td>
          <td class="paramname"> <em>heap_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">block_size_t&nbsp;</td>
          <td class="paramname"> <em>page_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>expanding</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize a shared storage as a compound heap. </p>
<p>Initialize the control blocks within the specified storage block as a Compound Heap. Both <em>heap_size</em> and <em>page_size</em> must be power of two in size and have the same power of two (or better) alignment. The SAS type created is SAS_RUNTIME_COMPOUNDHEAP.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>heap_block</em>&nbsp;</td><td>Block of allocated SAS storage. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>heap_size</em>&nbsp;</td><td>Size of the simple heap within the block. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>page_size</em>&nbsp;</td><td>Size of each Simple Heap to be created. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>expanding</em>&nbsp;</td><td>Set the compound heap to expand and associate a load factor to used to determine when to expand. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A handle to the initialized SASSimpleHeap_t or 0 if an error occurs. </dd></dl>

</div>
</div>
<a class="anchor" id="a4e005ff8659a791e882c8f84fb82faf0"></a><!-- doxytag: member="sascompoundheap.h::SASCompoundHeapNearAlloc" ref="a4e005ff8659a791e882c8f84fb82faf0" args="(void *nearObj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__C__ <a class="el" href="sassimpleheap_8h.html#a4ef92be97298e18ff5c85d8d107def75">SASSimpleHeap_t</a> SASCompoundHeapNearAlloc </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>nearObj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Allocate a new SAS Simple Heap from SAS Compound Heap <em>nearObj</em>. </p>
<p>The address <em>nearObj</em> is used to find the associated Compound Heap object. The sas_type_t of the heap must be SAS_RUNTIME_COMPOUNDHEAP. The allocated SAS Simple Heap is already initialized.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nearObj</em>&nbsp;</td><td>Memory address of SASCompoundHeap_t. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A newly created SASSimpleHeap_t or 0 if an error occurs. </dd></dl>

</div>
</div>
<a class="anchor" id="afa1b41fe5f507f7b0da8617e87612481"></a><!-- doxytag: member="sascompoundheap.h::SASCompoundHeapNearAllocNoLock" ref="afa1b41fe5f507f7b0da8617e87612481" args="(void *nearObj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__C__ <a class="el" href="sassimpleheap_8h.html#a4ef92be97298e18ff5c85d8d107def75">SASSimpleHeap_t</a> SASCompoundHeapNearAllocNoLock </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>nearObj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Allocate a new SAS Simple Heap from SAS Compound Heap <em>nearObj</em>. </p>
<p>Similar to <a class="el" href="sascompoundheap_8h.html#a4e005ff8659a791e882c8f84fb82faf0" title="Allocate a new SAS Simple Heap from SAS Compound Heap nearObj.">SASCompoundHeapNearAlloc</a> but do not hold any locks.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nearObj</em>&nbsp;</td><td>Memory address of SASCompoundHeap_t. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A newly created SASSimpleHeap_t or 0 if an error occurs. </dd></dl>

</div>
</div>
<a class="anchor" id="a2736a9b9c50792e659c68763691ce553"></a><!-- doxytag: member="sascompoundheap.h::SASCompoundHeapNearDealloc" ref="a2736a9b9c50792e659c68763691ce553" args="(void *memAddr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__C__ void SASCompoundHeapNearDealloc </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>memAddr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Free the allocated SAS Simple Heap based on a contained <em>memAddr</em>. </p>
<p>The address <em>memAddr</em> is used to find the associated SAS Simple Heap and the containing SAS Compound Heap. If both objects can be found, the SAS Simple Heap is freed in the SAS Compound Heap.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>memAddr</em>&nbsp;</td><td>Memory Address of a SASSimpleHeap_t associated with a SASCompoundHeap_t. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad3ffaf5e549cea4d743330650cc62208"></a><!-- doxytag: member="sascompoundheap.h::SASCompoundHeapNearDeallocNoLock" ref="ad3ffaf5e549cea4d743330650cc62208" args="(void *memAddr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__C__ void SASCompoundHeapNearDeallocNoLock </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>memAddr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Free the allocated SAS Simple Heap <em>memAddr</em> from associated SAS Compound Heap. </p>
<p>Similar to <a class="el" href="sascompoundheap_8h.html#a2736a9b9c50792e659c68763691ce553" title="Free the allocated SAS Simple Heap based on a contained memAddr.">SASCompoundHeapNearDealloc</a> but do not hold any locks.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>memAddr</em>&nbsp;</td><td>Memory Address of a SASSimpleHeap_t associated with a SASCompoundHeap_t. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9f1a7e117ae978b134487eb5eb62b89e"></a><!-- doxytag: member="sascompoundheap.h::SASCompoundHeapPurgeAll" ref="a9f1a7e117ae978b134487eb5eb62b89e" args="(SASCompoundHeap_t heap, int asyncBool)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__C__ block_size_t SASCompoundHeapPurgeAll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a>&nbsp;</td>
          <td class="paramname"> <em>heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>asyncBool</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write down the SAS Compound Heap to persistent storage and inform the kernel that those pages can be removed from real memory. </p>
<p>The function basically calls sasMsyncPurge from <a class="el" href="sasmsync_8h.html" title="API to manage the resources of the Shared Address Space.">sasmsync.h</a> on each internal SAS Simple Heap. The sas_type_t must be SAS_RUNTIME_COMPOUNDHEAP. The function hold a read lock over the heap's memory segments.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>heap</em>&nbsp;</td><td>Handle the the SASCompoundHeap_t. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>asyncBool</em>&nbsp;</td><td>Flag for asynchronous action if true. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a37f55fb5c533df5607673f9da2475349"></a><!-- doxytag: member="sascompoundheap.h::SASCompoundHeapRandomAccessAll" ref="a37f55fb5c533df5607673f9da2475349" args="(SASCompoundHeap_t heap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__C__ block_size_t SASCompoundHeapRandomAccessAll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a>&nbsp;</td>
          <td class="paramname"> <em>heap</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Inform the kernel that the SAS Compound Heap memory segments pages will be needed soon and will be accessed in random order. </p>
<p>The function basically calls sasMsyncRandom from <a class="el" href="sasmsync_8h.html" title="API to manage the resources of the Shared Address Space.">sasmsync.h</a> on each internal SAS Simple Heap. The sas_type_t must be SAS_RUNTIME_COMPOUNDHEAP. The function holds a read lock over the heap memory segments.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>heap</em>&nbsp;</td><td>Handle to the SASCompoundHeap_t. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acdbec9965c11fe0b5a5d63f505a0515e"></a><!-- doxytag: member="sascompoundheap.h::SASCompoundHeapReleaseAll" ref="acdbec9965c11fe0b5a5d63f505a0515e" args="(SASCompoundHeap_t heap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__C__ block_size_t SASCompoundHeapReleaseAll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a>&nbsp;</td>
          <td class="paramname"> <em>heap</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Inform the kernel that the SAS Compound Heap memory segments can be removed from real memory. </p>
<p>The function basically calls sasMsyncRelease from <a class="el" href="sasmsync_8h.html" title="API to manage the resources of the Shared Address Space.">sasmsync.h</a> on each internal SAS Simple Heap. The sas_type_t must be SAS_RUNTIME_COMPOUNDHEAP. The function hold a read lock over the heap's memory segments.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>heap</em>&nbsp;</td><td>Handle the the SASCompoundHeap_t. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a47817b9a19b594e990f9006e9de03957"></a><!-- doxytag: member="sascompoundheap.h::SASCompoundHeapSeqAccessAll" ref="a47817b9a19b594e990f9006e9de03957" args="(SASCompoundHeap_t heap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__C__ block_size_t SASCompoundHeapSeqAccessAll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a>&nbsp;</td>
          <td class="paramname"> <em>heap</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Inform the kernel that the SAS Compound Heap memory segments pages will be needed soon and will be accessed in sequential order. </p>
<p>The function basically calls sasMsyncSequential from <a class="el" href="sasmsync_8h.html" title="API to manage the resources of the Shared Address Space.">sasmsync.h</a> on each internal SAS Simple Heap. The sas_type_t must be SAS_RUNTIME_COMPOUNDHEAP. The function hold a read lock over the heap's memory segments.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>heap</em>&nbsp;</td><td>Handle the the SASCompoundHeap_t. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a86bfc3b27f26529a9d9cf1b91662db4b"></a><!-- doxytag: member="sascompoundheap.h::SASCompoundHeapSetLoadFactor" ref="a86bfc3b27f26529a9d9cf1b91662db4b" args="(SASCompoundHeap_t *heap, int load)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__C__ void SASCompoundHeapSetLoadFactor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a> *&nbsp;</td>
          <td class="paramname"> <em>heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>load</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the SAS Compound Heap <em>heap</em> load factor to <em>load</em>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>heap</em>&nbsp;</td><td>Handle to the SASCompoundHeap_t to be adjusted. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>load</em>&nbsp;</td><td>Load factor to set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a933d903ef2de28b72377f9f722252c36"></a><!-- doxytag: member="sascompoundheap.h::SASCompoundHeapWriteAll" ref="a933d903ef2de28b72377f9f722252c36" args="(SASCompoundHeap_t heap, int asyncBool)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__C__ block_size_t SASCompoundHeapWriteAll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sascompoundheap_8h.html#a897417a49cbfa744ba641f194e862232">SASCompoundHeap_t</a>&nbsp;</td>
          <td class="paramname"> <em>heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>asyncBool</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write down the SAS Compound Heap to persistent storage. </p>
<p>The function basically call sasMsyncWrite from <a class="el" href="sasmsync_8h.html" title="API to manage the resources of the Shared Address Space.">sasmsync.h</a> on each internal SAS Simple Heap. The sas_type_t must be SAS_RUNTIME_COMPOUNDHEAP. The function hold a read lock over the heap's memory segments.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>heap</em>&nbsp;</td><td>Handle the the SASCompoundHeap_t. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>asyncBool</em>&nbsp;</td><td>Flag for asynchronous action if true. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 7 Jan 2015 for Shared Persistent Heap Data Environment Manual by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
